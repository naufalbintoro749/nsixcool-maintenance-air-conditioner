<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin NSixCool — Editor Konten</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#94a3b8;--accent:#14b8a6}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#071024,#0f1724);color:#e6eef6}
    .wrap{max-width:1100px;margin:28px auto;padding:20px}
    .grid{display:grid;grid-template-columns:1fr 420px;gap:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:18px;box-shadow:0 6px 20px rgba(0,0,0,0.5)}
    h1{margin:0 0 8px}
    label{display:block;font-size:13px;color:var(--muted);margin-top:10px}
    input,textarea,select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    textarea{min-height:90px}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700;margin-top:12px}
    .btn-primary{background:linear-gradient(90deg,var(--accent),#06b6d4);color:#042022}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .small{font-size:13px;color:var(--muted)}
    iframe{width:100%;height:640px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);}
    .actions{display:flex;gap:8px;flex-wrap:wrap}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Admin NSixCool — Editor Konten</h1>
    <div class="small">Edit semua teks dan kontak situs, lalu preview atau unduh HTML yang sudah diperbarui.</div>

    <div class="grid" style="margin-top:16px">
      <div class="card">
        <form id="editor">
          <label>Nama Brand</label>
          <input id="brandName" />

          <label>Tagline kecil (di bawah nama)</label>
          <input id="tagline" />

          <label>Kalimat promosi (promo utama)</label>
          <input id="promo" />

          <label>Judul Hero</label>
          <input id="heroTitle" />

          <label>Deskripsi Hero</label>
          <textarea id="heroLead"></textarea>

          <label>Daftar layanan (baris per layanan)</label>
          <textarea id="servicesList"></textarea>

          <label>Nomor Telepon (format: 0851...)</label>
          <input id="phone" />

          <label>Alamat Lengkap</label>
          <input id="address" />

          <label>Catatan promo kecil (S&K)</label>
          <input id="promoNote" />

          <div class="actions">
            <button type="button" id="previewBtn" class="btn btn-primary">Preview</button>
            <button type="button" id="downloadBtn" class="btn btn-ghost">Download HTML</button>
            <button type="button" id="copyBtn" class="btn btn-ghost">Copy HTML ke Clipboard</button>
            <button type="button" id="resetBtn" class="btn btn-ghost">Reset ke Default</button>
          </div>
        </form>

        <hr style="margin-top:16px;border:none;border-top:1px solid rgba(255,255,255,0.04)" />
        <div style="font-size:13px;color:var(--muted);margin-top:8px">Tips: gunakan tombol <strong>Preview</strong> untuk melihat perubahan, lalu <strong>Download HTML</strong> untuk menyimpan file dan menggantikan file situs utama.</div>
      </div>

      <div>
        <div class="card" style="margin-bottom:12px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>Preview</strong>
            <div class="small">Live preview di bawah — klik Preview setelah mengubah.</div>
          </div>
        </div>
        <div class="card">
          <iframe id="previewFrame" sandbox></iframe>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Default data (cocok dengan file utama)
    const DEFAULT = {
      brandName: 'NSixCool',
      tagline: 'Servis & Maintenance AC • Profesional • Bergaransi',
      promo: 'Bikin Dinginnya Kembali — Kenyamanan Rumahmu Prioritas Kami',
      heroTitle: 'Maintenance AC Profesional untuk Semua Merek — Spesialis NSixCool',
      heroLead: 'NSixCool hadir untuk mengembalikan performa AC Anda: dari pembersihan evaporator, pengecekan freon, hingga perbaikan kebocoran. Teknisi bersertifikat, sparepart original (opsional), dan garansi kerja.',
      services: ['Servis & cuci AC','Isi ulang freon','Perbaikan kompresor','Instalasi & pasang AC'],
      phone: '085183317766',
      address: 'Perumahan Bumi Kartika Dramaga Raya Blok F2 No 11, Ciherang, Dramaga, Kab. Bogor',
      promoNote: 'Promo khusus pelanggan baru: diskon 15% untuk servis pertama. S&K berlaku.'
    };

    // populate form
    function setForm(data){
      document.getElementById('brandName').value = data.brandName;
      document.getElementById('tagline').value = data.tagline;
      document.getElementById('promo').value = data.promo;
      document.getElementById('heroTitle').value = data.heroTitle;
      document.getElementById('heroLead').value = data.heroLead;
      document.getElementById('servicesList').value = data.services.join('\n');
      document.getElementById('phone').value = data.phone;
      document.getElementById('address').value = data.address;
      document.getElementById('promoNote').value = data.promoNote;
    }

    function getForm(){
      return {
        brandName: document.getElementById('brandName').value || DEFAULT.brandName,
        tagline: document.getElementById('tagline').value || DEFAULT.tagline,
        promo: document.getElementById('promo').value || DEFAULT.promo,
        heroTitle: document.getElementById('heroTitle').value || DEFAULT.heroTitle,
        heroLead: document.getElementById('heroLead').value || DEFAULT.heroLead,
        services: document.getElementById('servicesList').value.split('\n').map(s=>s.trim()).filter(Boolean),
        phone: document.getElementById('phone').value || DEFAULT.phone,
        address: document.getElementById('address').value || DEFAULT.address,
        promoNote: document.getElementById('promoNote').value || DEFAULT.promoNote
      };
    }

    // generate full HTML string based on template (keeps original styling)
    function generateHTML(data){
      const servicesHTML = data.services.map(s=>`<div class="feat"><h4>${escapeHtml(s)}</h4><div class="muted"></div></div>`).join('\n');
      return `<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>${escapeHtml(data.brandName)} • Maintenance AC Profesional</title>
  <meta name="description" content="${escapeHtml(data.brandName)} - Jasa servis dan perawatan AC profesional. Hubungi ${escapeHtml(data.phone)}" />
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#94a3b8;--accent:#14b8a6;--glass: rgba(255,255,255,0.04)}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial; background:linear-gradient(180deg,#071024 0%, #0f1724 100%);color:#e6eef6}
    .container{max-width:1100px;margin:40px auto;padding:28px}

    header{display:flex;align-items:center;justify-content:space-between;gap:20px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#07263f,#063b47);display:flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    .logo svg{width:34px;height:34px}
    h1{font-size:20px;margin:0}
    .tag{font-size:13px;color:var(--muted)}

    nav a{color:var(--muted);text-decoration:none;margin-left:18px;font-weight:600}
    .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;margin-top:30px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:28px;box-shadow:0 8px 30px rgba(2,6,23,0.6);}

    .hero-left h2{font-size:36px;margin:0 0 10px}
    .promo{color:var(--accent);font-weight:700;margin-bottom:12px}
    p.lead{color:var(--muted);line-height:1.6}

    .features{display:flex;gap:12px;margin-top:18px}
    .feat{flex:1;padding:14px;border-radius:10px;background:var(--glass);border:1px solid rgba(255,255,255,0.03)}
    .feat h4{margin:0 0 6px}
    .cta{display:flex;gap:12px;margin-top:20px}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
    .btn-primary{background:linear-gradient(90deg,var(--accent),#06b6d4);color:#042022}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    .book{background:linear-gradient(180deg,#021526,#062033);padding:22px;border-radius:12px}
    .book h3{margin:0 0 12px}
    .field{display:flex;flex-direction:column;margin-bottom:10px}
    label{font-size:13px;color:var(--muted);margin-bottom:6px}
    input,textarea,select{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .phone{display:flex;align-items:center;gap:10px;margin-top:14px}
    .phone a{color:var(--accent);font-weight:800;text-decoration:none}

    footer{margin-top:36px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}

    /* responsive */
    @media (max-width:980px){.hero{grid-template-columns:1fr;}.container{margin:20px;padding:18px}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden>
          <svg viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M12 2v20" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" opacity="0.95"/>
            <path d="M5 7l14 10" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" opacity="0.85"/>
            <path d="M19 7L5 17" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" opacity="0.85"/>
          </svg>
        </div>
        <div>
          <h1>${escapeHtml(data.brandName)}</h1>
          <div class="tag">${escapeHtml(data.tagline)}</div>
        </div>
      </div>
      <nav>
        <a href="#services">Layanan</a>
        <a href="#booking">Booking</a>
        <a href="#contact">Kontak</a>
      </nav>
    </header>

    <section class="hero">
      <div class="card hero-left">
        <div class="promo">${escapeHtml(data.promo)}</div>
        <h2>${escapeHtml(data.heroTitle)}</h2>
        <p class="lead">${escapeHtml(data.heroLead)}</p>

        <div class="features" id="services">
          ${servicesHTML}
        </div>

        <div class="cta">
          <a class="btn btn-primary" href="#booking">Pesan Sekarang</a>
          <a class="btn btn-ghost" href="#contact">Hubungi Kami</a>
        </div>

        <p style="margin-top:18px;color:var(--muted);font-size:13px">${escapeHtml(data.promoNote)}</p>
      </div>

      <aside class="card book" id="booking">
        <h3>Booking Cepat</h3>
        <form onsubmit="event.preventDefault(); alert('Terima kasih! Tim ${escapeHtml(data.brandName)} akan mengontak Anda segera.');">
          <div class="field">
            <label for="nama">Nama</label>
            <input id="nama" placeholder="Nama lengkap" required />
          </div>
          <div class="field">
            <label for="hp">Nomor HP</label>
            <input id="hp" placeholder="08xxxxxxxxxx" required />
          </div>
          <div class="field">
            <label for="alamat">Alamat</label>
            <input id="alamat" placeholder="Alamat lengkap untuk kunjungan" required />
          </div>
          <div class="field">
            <label for="service">Jenis Layanan</label>
            <select id="service">
              ${data.services.map(s=>`<option>${escapeHtml(s)}</option>`).join('\n')}
            </select>
          </div>
          <div style="display:flex;gap:10px;align-items:center">
            <button class="btn btn-primary" type="submit">Kirim Booking</button>
            <button class="btn btn-ghost" type="button" onclick="location.href='#contact'">Hubungi via Telepon</button>
          </div>

          <div class="phone" style="margin-top:12px">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden>
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.86 19.86 0 0 1-3.07-8.63A2 2 0 0 1 4.08 2h3a2 2 0 0 1 2 1.72c.12 1.21.37 2.4.73 3.53a2 2 0 0 1-.45 2.11L8.91 10.09a16 16 0 0 0 6 6l1.73-1.39a2 2 0 0 1 2.11-.45c1.13.36 2.32.61 3.53.73A2 2 0 0 1 22 16.92z" stroke="white" stroke-width="0.9" opacity="0.9"/>
            </svg>
            <div>
              <div style="font-size:13px;color:var(--muted)">Butuh bantuan cepat?</div>
              <a href="tel:${escapeHtml(data.phone)}">${escapeHtml(formatPhone(data.phone))}</a>
            </div>
          </div>
        </form>
      </aside>
    </section>

    <footer id="contact">
      <div>
        <strong>${escapeHtml(data.brandName)}</strong>
        <div style="color:var(--muted);font-size:13px">Alamat: ${escapeHtml(data.address)}</div>
      </div>
      <div style="text-align:right">
        <div style="font-weight:700">Hubungi: <a href="tel:${escapeHtml(data.phone)}">${escapeHtml(formatPhone(data.phone))}</a></div>
        <div style="color:var(--muted);font-size:13px">Email: info@nsixcool.example</div>
      </div>
    </footer>
  </div>
</body>
</html>`;
    }

    // helpers
    function escapeHtml(s){
      return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
    }
    function formatPhone(p){
      // simple formatting: 085183317766 -> 0851-8331-7766
      if(!p) return '';
      const digits = p.replace(/[^0-9]/g,'');
      if(digits.length===12) return digits.replace(/(\d{4})(\d{4})(\d{4})/,'$1-$2-$3');
      return p;
    }

    // UI wiring
    document.getElementById('previewBtn').addEventListener('click', ()=>{
      const data = getForm();
      const html = generateHTML(data);
      const blob = new Blob([html], {type: 'text/html'});
      const url = URL.createObjectURL(blob);
      const iframe = document.getElementById('previewFrame');
      iframe.src = url;
      // revoke old URLs after load to free memory
      iframe.onload = ()=>{ URL.revokeObjectURL(url); };
    });

    document.getElementById('downloadBtn').addEventListener('click', ()=>{
      const data = getForm();
      const html = generateHTML(data);
      const blob = new Blob([html], {type: 'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = `${data.brandName.replace(/\s+/g,'_').toLowerCase()}_index.html`;
      document.body.appendChild(a); a.click(); a.remove();
      setTimeout(()=>URL.revokeObjectURL(url),5000);
    });

    document.getElementById('copyBtn').addEventListener('click', async ()=>{
      const data = getForm();
      const html = generateHTML(data);
      try{
        await navigator.clipboard.writeText(html);
        alert('HTML berhasil disalin ke clipboard — paste ke file index.html situsmu');
      }catch(e){
        alert('Gagal menyalin: ' + e.message);
      }
    });

    document.getElementById('resetBtn').addEventListener('click', ()=>{ if(confirm('Reset ke default?')){ setForm(DEFAULT); } });

    // init
    setForm(DEFAULT);
  </script>
</body>
</html>
