<!DOCTYPE html>
<html>
<head>
  <title>Admin NSixCool</title>
  <style>
    body{font-family:Arial;background:#0f1724;color:white;padding:20px;}
    textarea{width:100%;height:180px;background:#0b1220;border:none;color:white;padding:10px;border-radius:10px;}
    button{padding:12px 20px;background:#14b8a6;border:none;color:#022;border-radius:8px;font-weight:bold;margin-top:12px;cursor:pointer;}
  </style>
</head>
<body>

<h2>Edit Layanan</h2>
<p>Masukkan daftar layanan (1 baris = 1 layanan):</p>

<textarea id="layanan"></textarea>
<button onclick="save()">Simpan</button>

<p id="msg"></p>

<script>
async function load(){
  const res = await fetch("/api/layanan");
  const out = await res.json();
  document.getElementById("layanan").value = (out.layanan || []).join("\n");
}

async function save(){
  let layanan = document.getElementById("layanan").value.split("\n").filter(x=>x.trim()!="");

  const res = await fetch("/api/update", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ layanan })
  });

  const out = await res.json();

  if(out.success){
    document.getElementById("msg").innerText = "Berhasil disimpan!";
  }
}

load();
</script>
</body>
</html>
